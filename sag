-- Admin Panel GUI (LocalScript)
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")
local hum = character:WaitForChild("Humanoid")

-- Settings
local MAG_RADIUS = 30
local MAG_SPEED = 80
local MAG_FOLDER = workspace:WaitForChild("Pickups") -- Folder to magnet

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "AdminPanelGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Panel
local panel = Instance.new("Frame")
panel.Size = UDim2.new(0, 250, 0, 300)
panel.Position = UDim2.new(0.05, 0, 0.6, 0)
panel.BackgroundColor3 = Color3.fromRGB(25,25,25)
panel.BorderSizePixel = 0
panel.Active = true
panel.Draggable = true
panel.Parent = gui

-- Rounded corners
local panelCorner = Instance.new("UICorner")
panelCorner.CornerRadius = UDim.new(0, 20)
panelCorner.Parent = panel

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,-25,0,35)
title.Position = UDim2.new(0,10,0,10)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.TextSize = 24
title.Text = "Admin Panel"
title.TextColor3 = Color3.fromRGB(255,255,255)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = panel

-- Minimize button
local minimize = Instance.new("TextButton")
minimize.Size = UDim2.new(0,30,0,30)
minimize.Position = UDim2.new(1,-40,0,10)
minimize.BackgroundColor3 = Color3.fromRGB(80,80,80)
minimize.Text = "-"
minimize.TextColor3 = Color3.new(1,1,1)
minimize.Font = Enum.Font.GothamBold
minimize.TextSize = 24
minimize.AutoButtonColor = true
minimize.Parent = panel
local minCorner = Instance.new("UICorner")
minCorner.CornerRadius = UDim.new(0,8)
minCorner.Parent = minimize

-- Container for buttons
local buttonContainer = Instance.new("Frame")
buttonContainer.Size = UDim2.new(1,0,1,-60)
buttonContainer.Position = UDim2.new(0,0,0,50)
buttonContainer.BackgroundTransparency = 1
buttonContainer.Parent = panel

-- Helper to create animated buttons
local function makeButton(name, text, color, yPos, onClick)
	local btn = Instance.new("TextButton")
	btn.Name = name
	btn.Size = UDim2.new(1,-40,0,45)
	btn.Position = UDim2.new(0,20,0,yPos)
	btn.BackgroundColor3 = color
	btn.TextColor3 = Color3.new(1,1,1)
	btn.TextSize = 20
	btn.Font = Enum.Font.GothamBold
	btn.Text = text
	btn.Parent = buttonContainer
	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0,12)
	corner.Parent = btn
	
	-- Hover animation
	btn.MouseEnter:Connect(function()
		TweenService:Create(btn,TweenInfo.new(0.2),{BackgroundColor3 = color:Lerp(Color3.new(1,1,1),0.15)}):Play()
	end)
	btn.MouseLeave:Connect(function()
		TweenService:Create(btn,TweenInfo.new(0.2),{BackgroundColor3 = color}):Play()
	end)
	
	btn.MouseButton1Click:Connect(onClick)
	return btn
end

-- SuperSpeed button
local speedBtn = makeButton("SuperSpeed","Super Speed",Color3.fromRGB(40,180,90),0,function()
	if hum then hum.WalkSpeed = 108 end
end)

-- NoClip toggle
local noclipOn = false
local noclipConn
local noclipBtn = makeButton("NoClip","NoClip: OFF",Color3.fromRGB(90,90,180),60,function()
	noclipOn = not noclipOn
	noclipBtn.Text = "NoClip: "..(noclipOn and "ON" or "OFF")
	if noclipConn then noclipConn:Disconnect() noclipConn = nil end
	if noclipOn then
		noclipConn = RunService.Stepped:Connect(function()
			for _, part in ipairs(character:GetDescendants()) do
				if part:IsA("BasePart") then part.CanCollide = false end
			end
		end)
	else
		for _, part in ipairs(character:GetDescendants()) do
			if part:IsA("BasePart") then part.CanCollide = true end
		end
	end
end)

-- JumpPower button
local jumpBtn = makeButton("JumpPower","Jump Power 50",Color3.fromRGB(255,140,0),120,function()
	if hum then hum.JumpPower = 50 end
end)

-- Magnet button (objects only)
local magBtn = makeButton("Magnet","Magnet Objects",Color3.fromRGB(0,170,255),180,function()
	-- Always on
	RunService.RenderStepped:Connect(function(dt)
		for _, obj in pairs(MAG_FOLDER:GetChildren()) do
			if obj:IsA("BasePart") then
				local distance = (hrp.Position - obj.Position).Magnitude
				if distance <= MAG_RADIUS then
					local direction = (hrp.Position - obj.Position).Unit
					obj.CFrame = obj.CFrame + direction * MAG_SPEED * dt
				end
			end
		end
	end)
end)

-- Minimize / Expand functionality
local minimized = false
local minimizedIcon
local function togglePanel()
	if minimized then
		if minimizedIcon then minimizedIcon:Destroy() end
		panel.Visible = true
		minimized = false
	else
		panel.Visible = false
		minimizedIcon = Instance.new("TextButton")
		minimizedIcon.Size = UDim2.new(0,120,0,120)
		minimizedIcon.Position = panel.Position
		minimizedIcon.BackgroundColor3 = Color3.fromRGB(50,50,50)
		minimizedIcon.Text = "GPT"
		minimizedIcon.TextColor3 = Color3.new(1,1,1)
		minimizedIcon.Font = Enum.Font.GothamBold
		minimizedIcon.TextSize = 36
		minimizedIcon.Parent = gui
		minimizedIcon.Active = true
		minimizedIcon.Draggable = true
		local corner = Instance.new("UICorner")
		corner.CornerRadius = UDim.new(0,50)
		corner.Parent = minimizedIcon
		minimizedIcon.MouseButton1Click:Connect(function()
			panel.Position = minimizedIcon.Position
			togglePanel()
		end)
		minimized = true
	end
end
minimize.MouseButton1Click:Connect(togglePanel)
