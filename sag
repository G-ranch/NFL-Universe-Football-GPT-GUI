-- LocalScript: Admin Panel GUI (Enhanced Look)
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer
local remote = ReplicatedStorage:WaitForChild("DevTeleportHitboxControl")

-- GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "AdminPanelGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Panel
local panel = Instance.new("Frame")
panel.Size = UDim2.new(0,220,0,220)
panel.Position = UDim2.new(0.05,0,0.6,0)
panel.BackgroundColor3 = Color3.fromRGB(30,30,30)
panel.BorderSizePixel = 0
panel.Active = true
panel.Draggable = true
panel.Parent = gui

-- Rounded corners for panel
local panelCorner = Instance.new("UICorner")
panelCorner.CornerRadius = UDim.new(0,20)
panelCorner.Parent = panel

-- Shadow
local panelShadow = Instance.new("ImageLabel")
panelShadow.Size = UDim2.new(1,10,1,10)
panelShadow.Position = UDim2.new(0,-5,0,-5)
panelShadow.BackgroundTransparency = 1
panelShadow.Image = "rbxassetid://5055949905" -- subtle shadow asset
panelShadow.ScaleType = Enum.ScaleType.Slice
panelShadow.SliceCenter = Rect.new(10,10,118,118)
panelShadow.Parent = panel

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,-25,0,30)
title.Position = UDim2.new(0,10,0,10)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.TextSize = 22
title.Text = "Admin Panel"
title.TextColor3 = Color3.fromRGB(255,255,255)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = panel

-- Minimize button
local minimize = Instance.new("TextButton")
minimize.Size = UDim2.new(0,25,0,25)
minimize.Position = UDim2.new(1,-35,0,10)
minimize.BackgroundColor3 = Color3.fromRGB(80,80,80)
minimize.Text = "-"
minimize.TextColor3 = Color3.new(1,1,1)
minimize.Font = Enum.Font.GothamBold
minimize.TextSize = 22
minimize.AutoButtonColor = true
minimize.Parent = panel
local minCorner = Instance.new("UICorner")
minCorner.CornerRadius = UDim.new(0,8)
minCorner.Parent = minimize

-- Button container
local buttonContainer = Instance.new("Frame")
buttonContainer.Size = UDim2.new(1,0,1,-50)
buttonContainer.Position = UDim2.new(0,0,0,50)
buttonContainer.BackgroundTransparency = 1
buttonContainer.Parent = panel

-- Helper to make modern buttons
local function makeButton(text,yPos,color)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(1,-40,0,40)
	btn.Position = UDim2.new(0,20,0,yPos)
	btn.BackgroundColor3 = color
	btn.TextColor3 = Color3.new(1,1,1)
	btn.TextSize = 20
	btn.Font = Enum.Font.GothamBold
	btn.Text = text
	btn.Parent = buttonContainer

	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0,12)
	corner.Parent = btn

	-- Hover effect
	btn.MouseEnter:Connect(function()
		btn.BackgroundColor3 = color:Lerp(Color3.new(1,1,1),0.15)
	end)
	btn.MouseLeave:Connect(function()
		btn.BackgroundColor3 = color
	end)
	return btn
end

-- Buttons
local speedBtn = makeButton("Super Speed",0,Color3.fromRGB(40,180,90))
local noclipBtn = makeButton("NoClip: OFF",55,Color3.fromRGB(90,90,180))
local autoTackleBtn = makeButton("AutoTackle",110,Color3.fromRGB(0,170,255))

-- Super Speed
speedBtn.MouseButton1Click:Connect(function()
	local char = player.Character or player.CharacterAdded:Wait()
	local hum = char:FindFirstChildOfClass("Humanoid")
	if hum then
		hum.WalkSpeed = 108
	end
end)

-- NoClip
local noclipOn = false
local noclipConn
noclipBtn.MouseButton1Click:Connect(function()
	noclipOn = not noclipOn
	noclipBtn.Text = "NoClip: "..(noclipOn and "ON" or "OFF")
	if noclipConn then noclipConn:Disconnect() noclipConn = nil end
	if noclipOn then
		noclipConn = RunService.Stepped:Connect(function()
			local char = player.Character
			if not char then return end
			for _, part in ipairs(char:GetDescendants()) do
				if part:IsA("BasePart") then
					part.CanCollide = false
				end
			end
		end)
	else
		local char = player.Character
		if char then
			for _, part in ipairs(char:GetDescendants()) do
				if part:IsA("BasePart") then
					part.CanCollide = true
				end
			end
		end
	end
end)

-- AutoTackle
autoTackleBtn.MouseButton1Click:Connect(function()
	remote:FireServer("Start")
end)

-- Minimize/Expand with squircle GPT icon
local minimized = false
local minimizedIcon
local function togglePanel()
	if minimized then
		if minimizedIcon then minimizedIcon:Destroy() end
		panel.Visible = true
		minimized = false
	else
		panel.Visible = false
		minimizedIcon = Instance.new("TextButton")
		minimizedIcon.Size = UDim2.new(0,80,0,80)
		minimizedIcon.Position = panel.Position
		minimizedIcon.BackgroundColor3 = Color3.fromRGB(50,50,50)
		minimizedIcon.Text = "GPT"
		minimizedIcon.TextColor3 = Color3.new(1,1,1)
		minimizedIcon.Font = Enum.Font.GothamBold
		minimizedIcon.TextSize = 24
		minimizedIcon.Parent = gui
		minimizedIcon.Active = true
		minimizedIcon.Draggable = true

		local corner = Instance.new("UICorner")
		corner.CornerRadius = UDim.new(0,30) -- squircle
		corner.Parent = minimizedIcon

		minimizedIcon.MouseButton1Click:Connect(function()
			panel.Position = minimizedIcon.Position
			togglePanel()
		end)
		minimized = true
	end
end
minimize.MouseButton1Click:Connect(togglePanel)
