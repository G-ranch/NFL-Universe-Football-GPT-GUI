-- LocalScript: Admin Panel GUI
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local remote = ReplicatedStorage:WaitForChild("DevTeleportHitboxControl")

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "AdminPanelGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Panel
local panel = Instance.new("Frame")
panel.Size = UDim2.new(0, 160, 0, 170)
panel.Position = UDim2.new(0.05,0,0.6,0)
panel.BackgroundColor3 = Color3.fromRGB(35,35,35)
panel.BorderSizePixel = 0
panel.Active = true
panel.Draggable = true
panel.Parent = gui

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,-25,0,25)
title.Position = UDim2.new(0,5,0,5)
title.BackgroundTransparency = 1
title.Font = Enum.Font.SourceSansBold
title.TextSize = 20
title.Text = "Admin Panel"
title.TextColor3 = Color3.fromRGB(255,255,255)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = panel

-- Minimize
local minimize = Instance.new("TextButton")
minimize.Size = UDim2.new(0,20,0,20)
minimize.Position = UDim2.new(1,-25,0,5)
minimize.BackgroundColor3 = Color3.fromRGB(80,80,80)
minimize.Text = "-"
minimize.TextColor3 = Color3.new(1,1,1)
minimize.Font = Enum.Font.SourceSansBold
minimize.TextSize = 20
minimize.Parent = panel

-- Buttons container
local buttonContainer = Instance.new("Frame")
buttonContainer.Size = UDim2.new(1,0,1,-35)
buttonContainer.Position = UDim2.new(0,0,0,30)
buttonContainer.BackgroundTransparency = 1
buttonContainer.Parent = panel

-- Helper
local function makeButton(text,yPos,color)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(1,-20,0,35)
	btn.Position = UDim2.new(0,10,0,yPos)
	btn.BackgroundColor3 = color
	btn.TextColor3 = Color3.new(1,1,1)
	btn.TextSize = 18
	btn.Font = Enum.Font.SourceSansBold
	btn.Text = text
	btn.Parent = buttonContainer
	return btn
end

-- Buttons
local speedBtn = makeButton("Super Speed",0,Color3.fromRGB(40,180,90))
local noclipBtn = makeButton("NoClip: OFF",45,Color3.fromRGB(90,90,180))
local autoTackleBtn = makeButton("AutoTackle",90,Color3.fromRGB(0,170,255))

-- Super Speed
speedBtn.MouseButton1Click:Connect(function()
	local char = player.Character or player.CharacterAdded:Wait()
	local hum = char:FindFirstChildOfClass("Humanoid")
	if hum then
		hum.WalkSpeed = 108
	end
end)

-- NoClip
local noclipOn = false
local noclipConn
noclipBtn.MouseButton1Click:Connect(function()
	noclipOn = not noclipOn
	noclipBtn.Text = "NoClip: "..(noclipOn and "ON" or "OFF")
	if noclipConn then noclipConn:Disconnect() noclipConn = nil end
	if noclipOn then
		noclipConn = RunService.Stepped:Connect(function()
			local char = player.Character
			if not char then return end
			for _, part in ipairs(char:GetDescendants()) do
				if part:IsA("BasePart") then
					part.CanCollide = false
				end
			end
		end)
	else
		local char = player.Character
		if char then
			for _, part in ipairs(char:GetDescendants()) do
				if part:IsA("BasePart") then
					part.CanCollide = true
				end
			end
		end
	end
end)

-- AutoTackle
autoTackleBtn.MouseButton1Click:Connect(function()
	remote:FireServer("Start")
end)

-- Minimize/Expand
local minimized = false
local minimizedIcon
local function togglePanel()
	if minimized then
		if minimizedIcon then minimizedIcon:Destroy() end
		panel.Visible = true
		minimized = false
	else
		panel.Visible = false
		minimizedIcon = Instance.new("TextButton")
		minimizedIcon.Size = UDim2.new(0,60,0,30)
		minimizedIcon.Position = panel.Position
		minimizedIcon.BackgroundColor3 = Color3.fromRGB(50,50,50)
		minimizedIcon.Text = "GPT"
		minimizedIcon.TextColor3 = Color3.new(1,1,1)
		minimizedIcon.Font = Enum.Font.SourceSansBold
		minimizedIcon.TextSize = 18
		minimizedIcon.Parent = gui
		minimizedIcon.Active = true
		minimizedIcon.Draggable = true
		minimizedIcon.MouseButton1Click:Connect(function()
			panel.Position = minimizedIcon.Position
			togglePanel()
		end)
		minimized = true
	end
end
minimize.MouseButton1Click:Connect(togglePanel)
