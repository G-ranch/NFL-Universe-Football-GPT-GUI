-- NFL Admin Panel v2.8 - Full Working Version
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local char, hum, hrp

-- Wait for character
local function getChar()
	char = player.Character or player.CharacterAdded:Wait()
	hum = char:WaitForChild("Humanoid")
	hrp = char:WaitForChild("HumanoidRootPart")
	return char, hrp, hum
end

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "NFLAdminPanel"
gui.Parent = player:WaitForChild("PlayerGui")

-- Panel
local panel = Instance.new("Frame")
panel.Size = UDim2.new(0,380,0,320)
panel.Position = UDim2.new(0.5,-190,0.5,-160)
panel.BackgroundColor3 = Color3.fromRGB(25,25,30)
panel.BackgroundTransparency = 0.2
panel.Active = true
panel.Draggable = true
panel.Parent = gui

local corner = Instance.new("UICorner", panel)
corner.CornerRadius = UDim.new(0.1,0)
local stroke = Instance.new("UIStroke", panel)
stroke.Thickness = 2
stroke.Color = Color3.fromRGB(80,120,255)
stroke.Transparency = 0.4

-- Title
local title = Instance.new("TextLabel", panel)
title.Size = UDim2.new(1,-40,0,40)
title.Position = UDim2.new(0,10,0,0)
title.BackgroundTransparency = 1
title.Text = "üèà NFL ADMIN PANEL"
title.TextColor3 = Color3.fromRGB(200,220,255)
title.TextSize = 20
title.Font = Enum.Font.GothamBold
title.TextXAlignment = Enum.TextXAlignment.Left

-- Minimize
local minimizeBtn = Instance.new("TextButton", panel)
minimizeBtn.Text = "‚Äî"
minimizeBtn.Font = Enum.Font.GothamBold
minimizeBtn.TextSize = 26
minimizeBtn.TextColor3 = Color3.fromRGB(255,255,255)
minimizeBtn.Size = UDim2.new(0,40,0,40)
minimizeBtn.Position = UDim2.new(1,-45,0,0)
minimizeBtn.BackgroundTransparency = 1

-- Button creator
local function createButton(text)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(0,280,0,45)
	btn.BackgroundColor3 = Color3.fromRGB(50,60,90)
	btn.Text = text
	btn.TextColor3 = Color3.fromRGB(255,255,255)
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 18
	btn.AutoButtonColor = false
	local c = Instance.new("UICorner", btn)
	local s = Instance.new("UIStroke", btn)
	s.Color = Color3.fromRGB(100,140,255)
	s.Transparency = 0.5
	return btn
end

-- Buttons
local stealBtn = createButton("üèà STEAL BALL")
local magBtn = createButton("üß≤ MAG")
local tackleBtn = createButton("üí• AUTO TACKLE")
local speedBtn = createButton("‚ö° SUPER SPEED (128)")
local noclipBtn = createButton("üö´ NOCLIP")

-- Layout
local buttons = {stealBtn, magBtn, tackleBtn, speedBtn, noclipBtn}
for i, b in pairs(buttons) do
	b.Position = UDim2.new(0,50,0,50 + (i-1)*55)
	b.Parent = panel
end

-- Status
local statusLabel = Instance.new("TextLabel", panel)
statusLabel.Size = UDim2.new(1,0,0,40)
statusLabel.Position = UDim2.new(0,0,1,-40)
statusLabel.Text = "Ready! üòà"
statusLabel.TextColor3 = Color3.fromRGB(100,255,100)
statusLabel.Font = Enum.Font.GothamBold
statusLabel.TextSize = 18
statusLabel.BackgroundTransparency = 1

-- STEAL BALL
stealBtn.MouseButton1Click:Connect(function()
	local c, _, _ = getChar()
	for _, p in pairs(Players:GetPlayers()) do
		if p ~= player then
			local success, ball = pcall(function()
				return workspace:FindFirstChild("Football ("..p.Name..")")
			end)
			if success and ball and ball:FindFirstChild("RightHand") then
				ball.RightHand.CFrame = c.RightHand.CFrame
				statusLabel.Text = "üèà Stole ball from "..p.Name
				statusLabel.TextColor3 = Color3.fromRGB(0,255,0)
			end
		end
	end
end)

-- MAG (predictive)
magBtn.MouseButton1Click:Connect(function()
	local c, hrp, _ = getChar()
	local magActive = true
	statusLabel.Text = "üß≤ Chasing ball..."
	statusLabel.TextColor3 = Color3.fromRGB(255,255,0)

	task.spawn(function()
		while magActive do
			local ball = nil
			for _, v in pairs(workspace:GetChildren()) do
				if v.Name:match("Football") then
					ball = v
				end
			end

			if ball then
				local ballVel = ball.Velocity or Vector3.new(0,0,0)
				-- Teleport slightly in front along velocity
				local targetPos = ball.Position + ballVel.Unit * 3
				if (targetPos - hrp.Position).Magnitude > 0 then
					hrp.CFrame = CFrame.new(targetPos, ball.Position)
				end

				-- Stop if ball is in hand
				local hasBall = false
				if ball:FindFirstChild("RightHand") then
					local weld = ball.RightHand:FindFirstChildOfClass("Motor6D")
					if weld and weld.Part0 == c:FindFirstChild("RightHand") then
						hasBall = true
					end
				end

				if hasBall then
					statusLabel.Text = "üß≤ Ball caught!"
					statusLabel.TextColor3 = Color3.fromRGB(0,255,0)
					magActive = false
				end
			else
				statusLabel.Text = "‚ùå No ball in workspace!"
				statusLabel.TextColor3 = Color3.fromRGB(255,0,0)
				magActive = false
			end
			task.wait(0.1)
		end
	end)
end)

-- AUTO TACKLE
tackleBtn.MouseButton1Click:Connect(function()
	local c, hrp, _ = getChar()
	task.wait(0.1)
	local ballOwner = nil
	for _, v in pairs(Players:GetPlayers()) do
		local success, ball = pcall(function()
			return workspace:FindFirstChild("Football ("..v.Name..")")
		end)
		if success and ball then
			ballOwner = v
		end
	end
	if ballOwner then
		local ownerHRP = ballOwner.Character and ballOwner.Character:FindFirstChild("HumanoidRootPart")
		if ownerHRP then
			hrp.CFrame = ownerHRP.CFrame + ownerHRP.CFrame.LookVector
			statusLabel.Text = "üí• Teleported to tackle "..ballOwner.Name
			statusLabel.TextColor3 = Color3.fromRGB(255,255,0)
		end
	end
end)

-- SUPER SPEED
local speedOn = false
speedBtn.MouseButton1Click:Connect(function()
	local _, _, hum = getChar()
	speedOn = not speedOn
	if speedOn then
		hum.WalkSpeed = 128
		speedBtn.Text = "‚ö° SPEED: ON (128)"
		speedBtn.BackgroundColor3 = Color3.fromRGB(50,255,100)
	else
		hum.WalkSpeed = 16
		speedBtn.Text = "‚ö° SUPER SPEED (128)"
		speedBtn.BackgroundColor3 = Color3.fromRGB(50,60,90)
	end
end)

-- NOCLIP
local noclipOn = false
noclipBtn.MouseButton1Click:Connect(function()
	local _, _, hum = getChar()
	noclipOn = not noclipOn
	if noclipOn then
		noclipBtn.Text = "üö´ NOCLIP: ON"
		noclipBtn.BackgroundColor3 = Color3.fromRGB(50,255,100)
		RunService.Stepped:Connect(function()
			if noclipOn then
				for _, v in pairs(char:GetDescendants()) do
					if v:IsA("BasePart") then
						v.CanCollide = false
					end
				end
			end
		end)
	else
		noclipBtn.Text = "üö´ NOCLIP"
		noclipBtn.BackgroundColor3 = Color3.fromRGB(50,60,90)
	end
end)

-- Minimize icon
local nflIcon = Instance.new("TextButton")
nflIcon.Text = "üèà NFL"
nflIcon.Font = Enum.Font.GothamBold
nflIcon.TextSize = 26
nflIcon.TextColor3 = Color3.new(1,1,1)
nflIcon.Size = UDim2.new(0,150,0,150)
nflIcon.BackgroundColor3 = Color3.fromRGB(60,100,255)
nflIcon.BackgroundTransparency = 0.1
nflIcon.Visible = false
nflIcon.Active = true
nflIcon.Draggable = true
nflIcon.Parent = gui
local icCorner = Instance.new("UICorner", nflIcon)
icCorner.CornerRadius = UDim.new(0.45,0)
local glow = Instance.new("UIStroke", nflIcon)
glow.Thickness = 2
glow.Color = Color3.fromRGB(140,180,255)
glow.Transparency = 0.3

-- Float animation
task.spawn(function()
	while task.wait(2) do
		if nflIcon.Visible then
			TweenService:Create(nflIcon, TweenInfo.new(1,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),{
				Position = nflIcon.Position + UDim2.new(0,0,0,-5)
			}):Play()
			task.wait(1)
			TweenService:Create(nflIcon, TweenInfo.new(1,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),{
				Position = nflIcon.Position + UDim2.new(0,0,0,5)
			}):Play()
		end
	end
end)

-- Minimize/Restore
minimizeBtn.MouseButton1Click:Connect(function()
	local pos = panel.Position
	TweenService:Create(panel,TweenInfo.new(0.3),{Size=UDim2.new(0,0,0,0), BackgroundTransparency=1}):Play()
	task.wait(0.3)
	panel.Visible = false
	nflIcon.Position = pos
	nflIcon.Visible = true
end)

nflIcon.MouseButton1Click:Connect(function()
	panel.Visible = true
	TweenService:Create(panel,TweenInfo.new(0.3),{Size=UDim2.new(0,380,0,320), BackgroundTransparency=0.2}):Play()
	nflIcon.Visible = false
end)
